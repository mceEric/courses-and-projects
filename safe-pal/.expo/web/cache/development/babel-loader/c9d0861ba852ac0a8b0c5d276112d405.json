{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Input } from 'react-native-elements';\nimport { auth } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userEmail = _useState2[0],\n      setUserEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userPassword = _useState4[0],\n      setUserPassword = _useState4[1];\n\n  function signIn() {\n    auth.signInWithEmailAndPassword(userEmail, userPassword).catch(function (error) {\n      var errorMessage = error.message;\n      alert(errorMessage);\n    });\n  }\n\n  useEffect(function () {\n    var unsubscribe = auth.onAuthStateChanged(function (user) {\n      if (user) {\n        navigation.replace('NavigateTabs');\n      } else {\n        navigation.canGoBack() && navigation.popToTop();\n      }\n    });\n    return function () {\n      unsubscribe;\n    };\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      style: styles.Logo,\n      source: require('C:/projectpog/2022-ca326-travel-guide/MapDisplay/images/safepal2.png')\n    }), _jsx(Input, {\n      placeholder: \"Enter your email\",\n      label: \"Email\",\n      leftIcon: {\n        type: 'material',\n        name: 'email'\n      },\n      value: userEmail,\n      onChangeText: function onChangeText(text) {\n        return setUserEmail(text);\n      }\n    }), _jsx(Input, {\n      placeholder: \"Enter your password\",\n      label: \"Password\",\n      leftIcon: {\n        type: 'material',\n        name: 'lock'\n      },\n      value: userPassword,\n      onChangeText: function onChangeText(text) {\n        return setUserPassword(text);\n      },\n      secureTextEntry: true\n    }), _jsx(TouchableOpacity, {\n      title: \"Log in\",\n      onPress: signIn,\n      style: styles.button,\n      children: _jsx(Text, {\n        style: styles.texts,\n        children: \"Login\"\n      })\n    }), _jsx(TouchableOpacity, {\n      title: \"Register\",\n      style: styles.button,\n      onPress: function onPress() {\n        return navigation.navigate('Register');\n      },\n      style: styles.button,\n      children: _jsx(Text, {\n        style: styles.texts,\n        children: \"Register\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  texts: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: 'black',\n    fontSize: 20\n  },\n  Logo: {\n    width: 250,\n    height: 250,\n    marginBottom: 60\n  },\n  button: {\n    backgroundColor: '#daa520',\n    height: 50,\n    width: 200,\n    marginTop: 10,\n    borderRadius: 15,\n    borderWidth: 5,\n    justifyContent: \"center\",\n    alignItems: 'center'\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    padding: 10\n  }\n});","map":{"version":3,"sources":["C:/projectpog/2022-ca326-travel-guide/MapDisplay/screens/LoginScreen.js"],"names":["React","useEffect","useState","Input","auth","LoginScreen","navigation","userEmail","setUserEmail","userPassword","setUserPassword","signIn","signInWithEmailAndPassword","catch","error","errorMessage","message","alert","unsubscribe","onAuthStateChanged","user","replace","canGoBack","popToTop","styles","container","Logo","require","type","name","text","button","texts","navigate","StyleSheet","create","justifyContent","alignItems","color","fontSize","width","height","marginBottom","backgroundColor","marginTop","borderRadius","borderWidth","flex","padding"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {View, StyleSheet, Image,TouchableOpacity,Text} from 'react-native'\r\nimport{Input} from 'react-native-elements'\r\nimport {auth} from \"../firebase\";\r\n\r\n//Functional component which will log a user into thheir account, this is the begining screen\r\nexport function LoginScreen({navigation}) {\r\n    //Declaring necesarry states\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userPassword, setUserPassword] = useState(\"\");\r\n\r\n    //function which uses firebase database to authorize whether user credentials exist within the database\r\n    function signIn() {\r\n        auth.signInWithEmailAndPassword(userEmail, userPassword)\r\n            .catch((error) => {\r\n                const errorMessage = error.message;\r\n                alert(errorMessage);\r\n            });\r\n    }\r\n\r\n    //A useEffect to listen for a change in a users state\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(function(user) {\r\n            if (user) {\r\n                navigation.replace('NavigateTabs');\r\n            } else {\r\n                navigation.canGoBack()&& navigation.popToTop();\r\n            }\r\n        });\r\n        return () => { unsubscribe }; // cleanup toggles value, if unmounted\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Image\r\n                style={styles.Logo}\r\n                source={require('C:/projectpog/2022-ca326-travel-guide/MapDisplay/images/safepal2.png')}\r\n            />\r\n            <Input\r\n                placeholder=\"Enter your email\"\r\n                label=\"Email\"\r\n                leftIcon={{type: 'material', name: 'email'}}\r\n                value={userEmail}\r\n                onChangeText={text=> setUserEmail(text)}\r\n            />\r\n\r\n            <Input\r\n                placeholder=\"Enter your password\"\r\n                label=\"Password\"\r\n                leftIcon={{type: 'material', name: 'lock'}}\r\n                value={userPassword}\r\n                onChangeText={text=> setUserPassword(text)}\r\n                secureTextEntry\r\n            />\r\n\r\n            <TouchableOpacity title =\"Log in\" onPress={signIn} style={styles.button}><Text style={styles.texts}>Login</Text></TouchableOpacity>\r\n            <TouchableOpacity title =\"Register\" style={styles.button} onPress={()=>navigation.navigate('Register')} style={styles.button}><Text style={styles.texts}>Register</Text></TouchableOpacity>\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create\r\n({\r\n    texts: {\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: 'black',\r\n        fontSize: 20\r\n    },\r\n\r\n    Logo: {\r\n        width: 250,\r\n        height: 250,\r\n        marginBottom: 60,\r\n    },\r\n    button: {\r\n        backgroundColor: '#daa520',\r\n        height: 50,\r\n        width: 200,\r\n        marginTop: 10,\r\n        borderRadius: 15,\r\n        borderWidth: 5,\r\n        justifyContent: \"center\",\r\n        alignItems: 'center'\r\n\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        padding: 10\r\n    }\r\n\r\n\r\n}\r\n)\r\n\r\n"]},"metadata":{},"sourceType":"module"}